<div class="dynamic-page" 
	ng-if="!authorized">
		<div class="card mt50p">
			<div class="card-title">Authorization required!</div>
			<p class="card-note">Sorry, you have to authorize first!</p>
			<a type="button" class="button button-block button-positive button-sm" href="#app/login">Log in</a>
		</div>
</div>
<div class="dynamic-page"
	ng-if="authorized">
	<ion-content ng-init="getBudgets()">
		<ion-refresher
			pulling-text="Pull to refresh..."
			on-refresh="doRefresh('t',b)">
		</ion-refresher>
		<div class="list pt50">
			<label class="item item-input item-select">
				<span class="input-label">
					Budget
				</span>
				<select ng-change="getTransactions(b)" ng-model="b">
					<option ng-repeat="b in budgets" ng-value="b.id">{{b.name}}</option>
				</select>
			</label>
		</div>
		<div class="card" ng-if="!transactions.length">
			<div class="card-title">No records found!</div>
			<p class="card-note">Probably you have not added it yet!</p>
			<a href="#/app/addTransaction" class="button button-positive">Add first one</a>
		</div>
		<ion-list 
			can-swipe="true">
				<ion-item class="list-container no-left-padding"
					ng-repeat="tran in transactions" 
					ng-click="openTransaction(tran)">
						<div class="list-logo-container-complex" style="background-color:{{tran.categoryStyle}}">
							<div class="list-logo-box-complex white">
								<span class="fl centered"> {{tran.categoryName[0]}}</span>
								<span class="sl centered"> {{tran.categoryName[1]}}</span>
							</div>
						</div>
						<div class="list-item-name-complex white">{{tran.name}}</div>
						<div class="list-item-info white">{{tran.date | date: 'yyyy-MM-dd HH:mm'}}</div>
						<div class="list-item-description white">{{tran.comment}}</div>
						<div class="transaction-cost white">{{tran.cost}}</div>
	    				<ion-option-button class="button button-assertive"
							ng-click="deleteTransaction(tran.id)">
								Delete
						</ion-option-button>
						<ion-option-button class="button-positive"
							ng-click="edit(item)">
								Edit
						</ion-option-button>
				</ion-item>
		</ion-list>
	</ion-content>
</div>